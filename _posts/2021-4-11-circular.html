<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Circular | Urmila J</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="30 Day Chart Challenge contribution 2021 by Urmila.">
    
    <link rel="preload" href="/30daychartchallenge/assets/css/0.styles.02421d88.css" as="style"><link rel="preload" href="/30daychartchallenge/assets/js/app.bd8bdbcf.js" as="script"><link rel="preload" href="/30daychartchallenge/assets/js/2.2e525a3d.js" as="script"><link rel="preload" href="/30daychartchallenge/assets/js/10.bd81b691.js" as="script"><link rel="prefetch" href="/30daychartchallenge/assets/js/11.516d0fb2.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/12.0e40a051.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/13.b6687479.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/14.8594d23c.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/15.16fd3ec0.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/16.42cbdc52.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/17.cf2dd924.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/18.0173b01a.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/19.dbd7d002.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/20.75b1ff94.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/21.410a435f.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/22.68fe9605.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/23.3b65595a.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/24.b4a717b2.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/25.6fa1674e.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/26.7b899c36.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/27.256f0c22.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/28.009bc3bd.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/29.7e538b46.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/3.b76cff15.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/30.5f93defd.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/31.af4fe6a2.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/32.ee2bfe20.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/33.4642f797.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/34.7421b3c8.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/35.bdc7d76c.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/36.17997cbd.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/37.5d1689bd.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/38.132f3370.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/39.cd0aef31.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/4.1778016d.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/40.df6cc9a6.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/41.14b50959.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/42.89cbb28c.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/43.926862f5.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/44.94cc6a53.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/5.62b724db.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/6.9c72bc75.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/7.e388c6fd.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/8.38f726ef.js"><link rel="prefetch" href="/30daychartchallenge/assets/js/9.f86c896a.js">
    <link rel="stylesheet" href="/30daychartchallenge/assets/css/0.styles.02421d88.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/30daychartchallenge/" class="home-link router-link-active"><!----> <span class="site-name">Urmila J</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/30daychartchallenge/Charts/" class="nav-link">
  Charts
</a></div><div class="nav-item"><a href="/30daychartchallenge/About/" class="nav-link">
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/30daychartchallenge/Charts/" class="nav-link">
  Charts
</a></div><div class="nav-item"><a href="/30daychartchallenge/About/" class="nav-link">
  About
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="value-of-merchandise-and-treasure-exported-from-british-india"><a href="#value-of-merchandise-and-treasure-exported-from-british-india" class="header-anchor">#</a> Value of Merchandise and Treasure exported from British India.</h1> <h2 id="week-2-distributions-day-11-circular"><a href="#week-2-distributions-day-11-circular" class="header-anchor">#</a> Week 2: Distributions. Day 11: Circular.</h2> <br> <p>Day 11's topic was Circular, I decided to continue to use the same data source as the previous day. On day ten I visualized the value of exports from British India to various other countries and on day eleven I visualized what exactly was exported, the various merchandise and treasure. Since the topic for the day was circular, I made the visualization in the form of a circular bar chart.
<br> <br></p> <p>Here's a snippet of the circular bar charts below.
<img src="/30daychartchallenge/images/day11/ivory.png" alt="Circular bar chart of ivory exports"> <img src="/30daychartchallenge/images/day11/jewellery.png" alt="Circular bar chart of jewellery exports"> <img src="/30daychartchallenge/images/day11/rawsilk.png" alt="Circular bar chart of raw silk exports"> <img src="/30daychartchallenge/images/day11/opium.png" alt="Circular bar chart of opium exports"> <img src="/30daychartchallenge/images/day11/treasure.png" alt="Circular bar chart of treasure exports"></p> <br> <h2 id="data"><a href="#data" class="header-anchor">#</a> Data</h2> <p>Data Source: <a href="https://dsal.uchicago.edu/statistics/" target="_blank" rel="noopener noreferrer">Digital South Asia Library's resource<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Data for the chart: Here is the link to the <a href="https://github.com/urmilaj/30daycharts2021/blob/gh-pages/data/merchandiseTreasure.csv" target="_blank" rel="noopener noreferrer">data.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <br> <h2 id="create-the-chart-with-d3-js"><a href="#create-the-chart-with-d3-js" class="header-anchor">#</a> Create the chart with D3.js</h2> <br> <ul><li>Github link to <a href="https://urmilaj.github.io/30daycharts2021/circularBarplot.html" target="_blank" rel="noopener noreferrer">chart<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and code <a href="https://github.com/urmilaj/30daycharts2021/blob/gh-pages/circularBarplot.html" target="_blank" rel="noopener noreferrer">repository.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Setup the <a href="/30daychartchallenge/Charts.html">basic html. Follow the instructions here.</a></li> <li>Create the chart.</li></ul> <br> <p>Using d3.format to format the labels in circular bar plot currency values.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> format <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Load the csv data using promise, ensuring the values are not in string format and according changing values from string to integer format. Shown in line 3, 4, and 5 below.</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code>d3<span class="token punctuation">.</span><span class="token function">csv</span><span class="token punctuation">(</span><span class="token string">&quot;data/merchandiseTreasure.csv&quot;</span><span class="token punctuation">,</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
    article<span class="token operator">:</span> d<span class="token punctuation">.</span>article<span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token operator">+</span>d<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    year<span class="token operator">:</span> <span class="token operator">+</span>d<span class="token punctuation">.</span>year
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Use d3.group to create groups of the merchandise that was exported. Creating groups would later make it easy to call the chart function with the specific merchandise to create the circular bar plot.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> group <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token parameter">d</span><span class="token operator">=&gt;</span>d<span class="token punctuation">.</span>article<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Create an array of textures to use as the fill for circular bar plot. This array will be called with the chart function later.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token punctuation">[</span>

    <span class="token comment">//texture fill for ivory</span>
    textures<span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">orientation</span><span class="token punctuation">(</span><span class="token string">&quot;vertical&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;purple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    
    <span class="token comment">//texture fill for tea</span>
    textures<span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">thicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">orientation</span><span class="token punctuation">(</span><span class="token string">&quot;vertical&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">2.5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;darkorange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//texture fill for opium</span>
    textures<span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;hexagons&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;purple&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;cyan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//texture fill for jewellery</span>
    textures<span class="token punctuation">.</span><span class="token function">circles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>       
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;lightgray&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">radius</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">complement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;firebrick&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//texture fill for treasure</span>
    textures<span class="token punctuation">.</span><span class="token function">circles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">radius</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">lighter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;gold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    textures<span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;woven&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;purple&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&quot;#FFDFD3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    textures<span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">orientation</span><span class="token punctuation">(</span><span class="token string">&quot;diagonal&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&quot;firebrick&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;#D2C3D8&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//texture fill for raw cotton</span>
    textures<span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">orientation</span><span class="token punctuation">(</span><span class="token string">&quot;3/8&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;7/8&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;white&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//texture fill for coffee</span>
    textures<span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;squares&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&quot;transparent&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;brown&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;white&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//texture fill for spices</span>
    textures<span class="token punctuation">.</span><span class="token function">circles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">radius</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">complement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//texture fill for cashmere</span>
    textures<span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;waves&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token string">&quot;#FFDFD3&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;white&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">strokeWidth</span><span class="token punctuation">(</span><span class="token number">2.5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//texture fill for raw silk</span>
    textures<span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;woven&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">lighter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">thicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br></div></div><ul><li>Create the chart function, this will help draw the circular bar plot individually for each merchandise from the group data. The group data has 31 individual merchandise, I decided to visualize only ten of them due to time constraints. <br></li> <li>Create the chart function which is a reusable function with parameters 'data', 'title' and 'pattern'. The chart function needs to be called with the individual merchandise data and a title to name the chart and a pattern to create the bar plot's fill attribute. <br></li> <li>Each time the function is called with a new dataset, a new svg element will be created from the lines 3-9 below. <br></li> <li>Create the scales for the bar plot. The x scale which is d3's scaleBand will create a circular equal spacing for the year values by using range Math.PI indicated on line 15. <br></li> <li>The y scales uses d3's scaleRadial to create a circular bar plot for the value of merchandise exported in pound sterling for each year. <br></li> <li><strong>Use d3's arc to draw the bars.</strong> <br></li> <li>Create the axis labels to indicate the year values indicated on line 31 to 42. <br></li> <li>Create a group element as on line 45 to draw the circular bars on the center of the svg. <br></li> <li>Call the group element to the draw the x-axis and texture, as on line 49 and 52. <br></li> <li>Draw the actual bars as on line 55-62, with it's fill attribute indicated on line 60. <br></li> <li>Lines 65-77 draws the y-axis labels.</li> <li>Finally create a title for the chart as shown in line 80-85.</li></ul> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token function-variable function">chart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> title<span class="token punctuation">,</span> pattern</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token comment">//create svg element</span>
<span class="token keyword">const</span> svg <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;.chart&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;svg&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;width&quot;</span><span class="token punctuation">,</span>width<span class="token operator">+</span>margin<span class="token punctuation">.</span>left<span class="token operator">+</span>margin<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span>height<span class="token operator">+</span>margin<span class="token punctuation">.</span>top<span class="token operator">+</span>margin<span class="token punctuation">.</span>bottom<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;background-color&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;#e1d4e3&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> texture <span class="token operator">=</span> pattern

<span class="token keyword">const</span> x <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">scaleBand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token operator">=&gt;</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span> <span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> y <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">scaleRadial</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>d3<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token parameter">d</span><span class="token operator">=&gt;</span>d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span>innerRadius<span class="token punctuation">,</span>outerRadius<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">//d3.arc() to draw the circular bars.</span>
<span class="token keyword">const</span> arc <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">innerRadius</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token operator">=&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">outerRadius</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token operator">=&gt;</span><span class="token function">y</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">startAngle</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token operator">=&gt;</span><span class="token function">x</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">endAngle</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token operator">=&gt;</span><span class="token function">x</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token operator">+</span>x<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">padAngle</span><span class="token punctuation">(</span><span class="token number">0.09</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">padRadius</span><span class="token punctuation">(</span>innerRadius<span class="token punctuation">)</span>
<span class="token comment">//create x-axis labels</span>
<span class="token keyword">const</span> <span class="token function-variable function">xAxis</span> <span class="token operator">=</span> <span class="token parameter">g</span> <span class="token operator">=&gt;</span> g
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;text-anchor&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token parameter">g</span> <span class="token operator">=&gt;</span> g<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span> <span class="token operator">+</span> x<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">180</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">-</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)
        translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>innerRadius<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,0)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token parameter">g</span> <span class="token operator">=&gt;</span> g<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span> <span class="token operator">+</span> x<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span>
        <span class="token operator">?</span> <span class="token string">&quot;rotate(90)translate(0,16)&quot;</span>
        <span class="token operator">:</span> <span class="token string">&quot;rotate(-90)translate(0,-9)&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//create a group element</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

<span class="token comment">//this will draw the x-axis</span>
<span class="token function">g</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xAxis<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//this calls the fill for the circular bar plot</span>
<span class="token function">g</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>texture<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//draw the paths for the barplot</span>
g<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span>arc<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;fill&quot;</span><span class="token punctuation">,</span>texture<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;stroke&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;stroke-width&quot;</span><span class="token punctuation">,</span><span class="token number">1.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//this will create the labels for the y-axis</span>
g<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;text-anchor&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span> <span class="token operator">+</span> x<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">?</span> <span class="token string">&quot;end&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;start&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;rotate(&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span> <span class="token operator">+</span> x<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">180</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">-</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token operator">+</span><span class="token string">&quot;translate(&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">y</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;,0)&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">(</span><span class="token string">&quot;£ &quot;</span><span class="token operator">+</span><span class="token function">format</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span> <span class="token operator">+</span> x<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">?</span> <span class="token string">&quot;rotate(180)&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;rotate(0)&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;12px&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-weight&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bold&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;alignment-baseline&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">)</span>

<span class="token comment">//create the title for the chart</span>
svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;text-anchor&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;middle&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1.8em&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br></div></div><p>Now finally call the chart function with the parameters. To draw the Ivory chart, call the chart function. For the first parameter 'data' use group.get with the string &quot;Ivory and Ivory Ware&quot;, for the second parameter 'title' indicate &quot;Ivory&quot; which will append the title in the center of the svg and for the final parameter 'pattern' use t[0] to use the first value of the array to use as fill attribute for the bar plot as indicated on line 1 in the code below. <br>
Calling the chart with other group data will draw circular bar plots for that dataset appending a new svg each time (line 4-12).</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Ivory and Ivory Ware&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Ivory&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Tea&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Tea&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Jewellery and Precious Stones&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Jewellery&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Treasure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Treasure&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Cotton, Raw&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Raw Cotton&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Coffee&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Coffee&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Opium&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Opium&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Spices, of all Sorts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Spices&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Shawls, Cashmero&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Cashmere&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">chart</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;Silk, Raw&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;Raw Silk&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br> <h2 id="additional-resources"><a href="#additional-resources" class="header-anchor">#</a> Additional Resources</h2> <ol><li><a href="https://observablehq.com/@samvickars/radial-bar-chart" target="_blank" rel="noopener noreferrer">Radial Bar Chart by Sam Vickars<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/30daychartchallenge/_posts/2021-4-10-abstract.html" class="prev">
        Abstract
      </a></span> <span class="next"><a href="/30daychartchallenge/_posts/2021-4-12-strips.html">
        Strips
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/30daychartchallenge/assets/js/app.bd8bdbcf.js" defer></script><script src="/30daychartchallenge/assets/js/2.2e525a3d.js" defer></script><script src="/30daychartchallenge/assets/js/10.bd81b691.js" defer></script>
  </body>
</html>
